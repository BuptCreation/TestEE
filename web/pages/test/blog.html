<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>实现博客</title>
    <base href="../../">
    <script src="static/vue/vue.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue-resource/1.5.3/vue-resource.js"></script>

</head>
<body>

<div class="app-blog">
<!--    标题部分-->
        <h2>添加多人协作内容</h2>
<!--    文章标题内容编写-->
    <form action="" method="post" id="form" v-if="!blog.submitted">
        <label>文章标题</label>
        <input type="text" name="title" v-model="blog.title" required/>

        <label>文章内容</label>
        <textarea name="content" v-model="blog.content"></textarea>
        <div id="checkboxes">
            <label>Vue.js</label>
            <input name="categories" type="checkbox" value="Vue.js" v-model="blog.categories">
            <label>Node.js</label>
            <input name="categories" type="checkbox" value="Node.js" v-model="blog.categories">
            <label>React.js</label>
            <input name="categories" type="checkbox" value="React.js" v-model="blog.categories">
            <label>Angular4</label>
            <input name="categories" type="checkbox" value="Angular4" v-model="blog.categories">
        </div>
        <label>作者:</label>
        <select v-model="blog.author">
            <option name="author" v-for="author in authors">
                {{author}}
            </option>
        </select>
<!--        <input type="submit" value="发布文章" id="sub_btn" />-->
        <button v-on:click.prevent="Post">发布文章</button>
    </form>

<h3 id="ok" v-if="blog.submitted">您的文章发布成功</h3>
<hr>
    <div id="preview">
        <h3>文章总览</h3>
        <p>文章标题:{{blog.title}}</p>
        <p>文章内容:</p>
        <p>{{blog.content}}</p>
        <p>文章类别</p>
        <ul>
            <li v-for="category in blog.categories">
                {{category}}
            </li>
        </ul>
        <p>作者:{{blog.author}}</p>
    </div>
</div>
<!--vue功能-->
<script type="text/javascript">
    var vm = new Vue({
        el: ".app-blog" ,
        data:{
            blog:{
                title:"hi",
                content:"你好",
                categories:[],
                author:"",
                submitted:false
            },
            authors:["Hemiah","Hemry","Buky"]
        },
        methods:{
            Post:function(){
                this.$http.post("https://jsonplaceholder.typicode.com/posts",{
                    title: this.blog.title,
                    body:this.blog.content,
                    userId:1
                }).then(function(data){
                    console.log(data);
                    this.blog.submitted=true;
                })
            }
        }

    })
</script>



</body>
</html>